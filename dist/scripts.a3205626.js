parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"saf0":[function(require,module,exports) {
"use strict";function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function n(t,n){var o=!0;return function(){o&&(o=!1,t.apply(this,arguments),setTimeout(function(){o=!0},n))}}function o(t,n){var o;return function(){o&&window.clearTimeout(o),o=window.setTimeout(function(){t.apply(this,arguments)},n)}}function r(n){var o;if("object"!==t(n)||null==n)return n;if(n instanceof Date)return(o=new Date).setTime(n.getTime()),o;if(n instanceof Array)return o=[],n.forEach(function(t,n){o[n]=r(t)}),o;if(n instanceof Object){for(var e in o={},n)n.hasOwnProperty(e)&&(o[e]=r(n[e]));return o}}function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var o={},e=0;e<arguments.length;e+=1){var i=arguments[e];if(!(i instanceof Object))break;for(var u in i)i.hasOwnProperty(u)&&(o[u]=r(i[u]))}return o}function i(t,n){void 0===n&&(n=2);var o=Math.pow(10,n);return Math.round(t*o)/o}function u(t){return void 0===t&&(t=.5),Math.random()<t}function f(t,n,o,r){void 0===o&&(o=!0),void 0===r&&(r=2);var e=i(Math.random()*(n-t)+n,r);return o&&(e=u()?-1*e:e),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.initThrottler=n,exports.initDebouncer=o,exports.deepClone=r,exports.extend=e,exports.round=i,exports.randomChance=u,exports.getRandomNum=f;
},{}],"jcvK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(e){this.currPoints=[],t.canvasElem||(t.canvasElem=e.canvasElem?e.canvasElem:window.Game.canvasElem),t.ctx||(t.ctx=e.ctx?e.ctx:window.Game.ctx),this.velocity=this.getInitVelocity(e),this.origin=this.getInitOrigin(e),this.rSize=e.rSize,this.strokeStyle=e.strokeStyle||t.defaultSettings.strokeStyle,this.offSet=Object.prototype.hasOwnProperty.call(e,"offSet")&&void 0!==e.offSet?e.offSet:t.defaultSettings.offSet,this.onScreen=this.isVisible(),this.isActive=e.isActive||!0}return t.prototype.isVisible=function(){var e=t.canvasElem.width,i=t.canvasElem.height;return this.currPoints.every(function(t){var n=t.x,r=t.y;return n>=0&&n<e&&r>=0&&r<=i})},t.prototype.isHidden=function(){var e=t.canvasElem.width,i=t.canvasElem.height;return this.currPoints.every(function(t){var n=t.x,r=t.y;return n<0||n>e||r<0||r>i})},t.prototype.getBounds=function(){var t,e,i,n;return this.currPoints.forEach(function(r,s){var o=r.x,a=r.y;0===s?(t=e=o,i=n=a):(t=Math.min(t,o),e=Math.max(e,o),i=Math.min(i,a),n=Math.max(n,a))}),{leftBound:t,rightBound:e,upperBound:i,lowerBound:n}},t.defaultSettings={offSet:0,strokeStyle:"white"},t}();exports.DrawableClass=t,exports.default=t;
},{}],"QI0o":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function i(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../utils"),i=e(require("./DrawableClass")),n=function(e){function n(t){var i=this,o=r.extend(n.defaultSettings,t);return(i=e.call(this,o)||this).sides=o.sides||n.defaultSettings.sides,i.spacer=Object.prototype.hasOwnProperty.call(o,"spacer")&&void 0!==o.spacer?o.spacer:n.defaultSettings.spacer,i.level=o.level,i.scoreValue=o.scoreValue,i}return t(n,e),n.clone=function(t){var e=r.deepClone(t),i=e.velocity;return new n({origin:e.origin,rSize:e.rSize,offSet:e.offSet,strokeStyle:e.strokeStyle,sides:e.sides,spacer:e.spacer,level:e.level,velocity:i})},n.makeChild=function(t,e,i){if(void 0===i&&(i=2),t.level>=e)return[];for(var o=[],s=t.level+1,a=r.round(t.rSize/2),l=2*t.scoreValue,u=t.origin,c=t.strokeStyle,h=t.sides,f=t.spacer,d=t.velocity,v=d.translateX,y=d.translateY,p=d.rotation,g=1;g<=i;g+=1){var m=.9+g/(g+2),w=new n({origin:u,sides:h,velocity:{translateX:r.randomChance()?r.round(v*m):-1*r.round(v*m),translateY:r.randomChance()?r.round(y*m):-1*r.round(y&m),rotation:r.randomChance()?r.round(p*m):-1*r.round(p*m)},level:s,rSize:a,scoreValue:l,strokeStyle:c,spacer:f});o.push(w)}return o},n.prototype.containsPoint=function(t){if(!this.currPoints.length)return!1;var e=this.getBounds(),r=e.leftBound,i=e.rightBound,n=e.upperBound,o=e.lowerBound;if(t.x<r||t.x>i||t.y<n||t.y>o)return!1;var s=!1,a=this.currPoints.map(function(e,r,i){var n=e.x,o=e.y,a=r+1<i.length?i[r+1].x:i[0].x,l=(o-(r+1<i.length?i[r+1].y:i[0].y))/(n-a),u=o-l*n;return l===1/0?t.x===n?(s=!0,!0):t.x<n:t.y===l*t.x+u?(s=!0,!0):t.y<l*t.x+u});if(s)return!0;var l=0,u=Math.ceil(a.length/2);return a.forEach(function(t){t&&(l+=1)}),l===u},n.prototype.getInitVelocity=function(t){if(t.velocity)return t.velocity;var e=n.defaultSettings.velocityOptions,i=e.x,o=e.y,s=e.rotation;return{translateX:r.getRandomNum(i.min,i.max,i.blnAllowNeg),translateY:r.getRandomNum(o.min,o.max,o.blnAllowNeg),rotation:r.getRandomNum(s.min,s.max,s.blnAllowNeg)}},n.prototype.getInitOrigin=function(t){if(t.origin)return t.origin;var e;this.velocity||(this.velocity=this.getInitVelocity(t)),e=this.velocity.translateX>0?this.velocity.translateY>0?2:3:this.velocity.translateY>0?1:4;var r,n=i.default.canvasElem.width,o=i.default.canvasElem.height;switch(e){case 1:r={x:n+10,y:-10};break;case 2:r={x:-10,y:-10};break;case 3:r={x:-10,y:o+10};break;case 4:r={x:n+10,y:o+10};break;default:throw new Error("Error: could not determine the right quadrant for asteroid")}return r},n.prototype.calcPoints=function(t){var e=t*this.velocity.translateX,i=t*this.velocity.translateY;if(!this.origin)throw new Error("Cannot calcPoints if origin is null");this.origin.x=r.round(100*(this.origin.x+e))/100,this.origin.y=r.round(100*(this.origin.y+i))/100,this.offSet+=this.velocity.rotation,this.currPoints=[];for(var n=360/this.sides,o=0;o<this.sides;o+=1){var s=n*o+this.offSet,a=this.origin.x+Math.sin(Math.PI*s/180)*this.rSize,l=this.origin.y+Math.cos(Math.PI*s/180)*this.rSize;this.currPoints.push({x:r.round(100*a)/100,y:r.round(100*l)/100})}return!this.onScreen&&this.isVisible()?this.onScreen=!0:this.isHidden()&&(this.onScreen=!1,this.reframe()),this.currPoints},n.prototype.drawPoints=function(){if(!this.isActive)return!1;var t=i.default.ctx;return t.save(),t.strokeStyle=this.strokeStyle,t.beginPath(),this.currPoints.forEach(function(e,r){0===r?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)}),t.closePath(),t.stroke(),t.restore(),!0},n.prototype.reframe=function(){var t=i.default.canvasElem.width,e=i.default.canvasElem.height,r=0,n=0,o=this.getBounds(),s=o.leftBound,a=o.rightBound,l=o.upperBound,u=o.lowerBound;if(this.velocity.translateX>0?s>t&&(r=-1*(a+this.spacer)):a<0&&(r=Math.abs(s)+t+this.spacer),this.velocity.translateY>0?l>e&&(n=-1*(u+this.spacer)):u<0&&(n=Math.abs(l)+e+this.spacer),!this.origin)throw new Error("Cannot reframe() if origin is null");this.origin.x=this.origin.x+r,this.origin.y=this.origin.y+n,this.currPoints.forEach(function(t){t.x+=r,t.y+=n})},n.defaultSettings={level:1,scoreValue:5,rSize:45,sides:10,spacer:1,velocityOptions:{x:{max:2.75,min:.75,blnAllowNeg:!0},y:{max:2.5,min:.75,blnAllowNeg:!0},rotation:{max:1.5,min:.2,blnAllowNeg:!0}}},n}(i.default);function o(t,e){return void 0===e&&(e=0),new Promise(function(r){setTimeout(function(){r(new n(t))},e)})}function s(){var t=Date.now();return function(e,r,i){return void 0===e&&(e={}),void 0===r&&(r=500),void 0===i&&(i=!1),new Promise(function(o){if(i)return 0===r?o(new n(e)):setTimeout(function(){o(new n(e))},r),void(t=Date.now());if(Date.now()-t>r)o(new n(e)),t=Date.now();else var s=parseInt(""+r/3,10),a=setInterval(function(){Date.now()-t>r&&(clearInterval(a),o(new n(e)),t=Date.now())},s)})}}exports.Asteroid=n,exports.makeAsteroid=o,exports.initAsteroidFactory=s;
},{"../utils":"saf0","./DrawableClass":"jcvK"}],"p6cr":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var i=require("../utils"),n=e(require("./DrawableClass")),r=function(e){function r(t){void 0===t&&(t={});var n=e.call(this,i.extend(r.defaultSettings,t))||this;n.thrustersOn=!1,n.turningRight=!1,n.turningLeft=!1,n.isFiring=!1;var o=i.extend(r.defaultSettings,t);return n.maxSpeed=o.maxSpeed,n.minThrust=o.minThurst,n.rotationSpeed=o.rotationSpeed,n.acceleration=o.acceleration,n.deceleration=o.deceleration,n.throttleTimer,n}return t(r,e),r.prototype.throttleOff=function(){this.thrustersOn=!1},r.prototype.throttleOn=function(){this.thrustersOn=!0},r.prototype.getInitOrigin=function(t){return t.origin?t.origin:{x:Math.floor(n.default.canvasElem.width/2),y:Math.floor(n.default.canvasElem.height/2)}},r.prototype.getInitVelocity=function(t){return{translateX:0,translateY:0,rotation:0}},r.prototype.calcPointsFromOrigin=function(){var t=this.rSize;this.currPoints=[];for(var e=0;e<360;e+=120){var i=0===e?t:t*r.defaultSettings.adjustedH,n=(e+this.offSet)*Math.PI/180,o=this.origin.x+Math.sin(n)*i,s=this.origin.y-Math.cos(n)*i;this.currPoints.push({x:o,y:s})}},r.prototype.calcPoints=function(t){return this.isActive?(this.velocity=this.calcVelocity(t),this.origin.x+=this.velocity.translateX,this.origin.y-=this.velocity.translateY,this.calcPointsFromOrigin(),!this.onScreen&&this.isVisible()?this.onScreen=!0:this.isHidden()&&(this.onScreen=!1,this.reframe()),this.currPoints):[]},r.prototype.drawPoints=function(){if(!this.isActive)return!1;var t=n.default.ctx;return t.globalCompositeOperation="source-over",t.save(),t.strokeStyle=this.strokeStyle,t.beginPath(),this.currPoints.forEach(function(e,i){0===i?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)}),t.closePath(),t.stroke(),t.restore(),!0},r.prototype.reframe=function(){var t=n.default.canvasElem.width,e=n.default.canvasElem.height,i=0,r=0,o=this.getBounds(),s=o.leftBound,a=o.rightBound,h=o.upperBound,u=o.lowerBound;s>t?i=-1*t:a<0&&(i=Math.abs(s)+t),h>e?r=-1*u:u<0&&(r=Math.abs(h)+e),this.origin.x+=i,this.origin.y+=r,this.calcPointsFromOrigin},r.prototype.calcVelocity=function(t){var e=this.velocity,i=e.magnitude,n=e.translateX,r=e.translateY,o=e.rotation;return i=i||0,this.thrustersOn?i<this.minThrust?i=this.minThrust:(i+=this.acceleration*t,i=Math.min(i,this.maxSpeed)):i=i>1?i*t*this.deceleration:0,o=this.turningLeft&&!this.turningRight?-1*t*this.rotationSpeed:!this.turningLeft&&this.turningRight?t*this.rotationSpeed:0,this.offSet+=o,i&&i>0?(n=i*Math.sin(Math.PI*this.offSet/180),r=i*Math.cos(Math.PI*this.offSet/180)):(n=0,r=0),{magnitude:i,translateX:n,translateY:r,rotation:o}},r.defaultSettings={rSize:25,maxSpeed:8,minThrust:3,rotationSpeed:6,acceleration:1,deceleration:.9,adjustedH:.7},r}(n.default);function o(){return function(t){return void 0===t&&(t=1e3),new Promise(function(e){setTimeout(function(){e(new r)},t)})}}exports.Spaceship=r,exports.initSpaceshipFactory=o;
},{"../utils":"saf0","./DrawableClass":"jcvK"}],"3YFJ":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,i){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(e,i)};return function(e,i){function r(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)}}(),e=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0});var i=e(require("./DrawableClass")),r=require("../utils"),n=function(e){function n(t){return e.call(this,r.extend(n.defaultSettings,t))||this}return t(n,e),n.prototype.calcPoints=function(t){return this.origin.x+=this.velocity.translateX,this.origin.y-=this.velocity.translateY,this.currPoints=[this.origin],this.isHidden()&&(this.isActive=!1),this.currPoints},n.prototype.drawPoints=function(){if(!this.isActive)return!1;var t=i.default.ctx;return t.save(),t.strokeStyle=this.strokeStyle,t.beginPath(),t.arc(this.origin.x,this.origin.y,2,0,2*Math.PI),t.stroke(),t.restore(),!0},n.prototype.getInitOrigin=function(t){if(!t.origin)throw new Error("Initial Origin must be supplied as argument for Bullet Class");return t.origin},n.prototype.getInitVelocity=function(t){if(!t.velocity)throw new Error("Initial Velocity of Spaceship must be supplied as argument for Bullet Class");var e=r.deepClone(t.velocity),i=e.magnitude=n.defaultSettings.bulletSpeed,o=i*Math.sin(Math.PI*t.offSet/180),s=i*Math.cos(Math.PI*t.offSet/180);return e.translateX=o,e.translateY=s,e},n.defaultSettings={bulletSpeed:11,rSize:0},n}(i.default);exports.Bullet=n;
},{"./DrawableClass":"jcvK","../utils":"saf0"}],"VWjm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={hasClass:function(e,s){return new RegExp(" {$className} ").test(" "+e.className+" ")},addClass:function(e,s){this.hasClass(e,s)||(e.className+=" "+s)},removeClass:function(e,s){var a=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(new RegExp(" "+s+" ").test(a)){for(;a.indexOf(" "+s+" ")>=0;)a=a.replace(" "+s+" "," ");e.className=a.replace(/^\s+|\s+$/g,"")}},getClosest:function(e,s){for(;e&&e!==document;e=e.parentNode)if(e.matches(s))return e;return null}};exports.default=e;
},{}],"19px":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var i=require("../utils"),t=require("./Asteroid"),s=require("./Spaceship"),r=require("./Bullet"),a=e(require("../utils/fakeJquery")),n={tickLength:50,numTicksBeforePausing:5,firingDelay:300,canvasSelector:"#bg-canvas",scoreSelector:"#score-counter",livesSelector:"#lives-counter",startGameSelector:".screen-overlay--starting",pauseGameSelector:".screen-overlay--paused",gameOverSelector:".screen-overlay--gameover",startingLives:2,maxChildAsteroids:2,maxAsteroids:15},o=function(){function e(e){this.initialized=!1,this.gameOver=!1,this.asteroids=[],this.pendingAsteroids=new Map,this.bullets=[],this.spaceship=null,this.canFire=!0,this.isFiring=!1,window.Game=this,this.settings=i.extend(n,e),this.canvasElem=document.querySelector(this.settings.canvasSelector),this.ctx,this.scoreElem=document.querySelector(this.settings.scoreSelector),this.livesElem=document.querySelector(this.settings.livesSelector),this.startGameElem=document.querySelector(this.settings.startGameSelector),this.pauseGameElem=document.querySelector(this.settings.pauseGameSelector),this.gameOverElem=document.querySelector(this.settings.gameOverSelector),this.lastRender=window.performance.now(),this.isActive=!1,this.makeAsteroid=t.initAsteroidFactory(),this.makeSpaceship=s.initSpaceshipFactory(),this.lives=this.settings.startingLives,this.score=0,this.preInit()}return e.prototype.preInit=function(){this.isActive=!0,[this.scoreElem,this.livesElem,this.startGameElem,this.gameOverElem].forEach(function(e){if(null===e)throw new Error("Null element")}),this.canvasElem.width=window.innerWidth,this.canvasElem.height=window.innerHeight,this.ctx=this.canvasElem.getContext("2d"),this.updateScore(),window.requestAnimationFrame(this.loop.bind(this))},e.prototype.init=function(){if(this.initialized=!0,null===this.startGameElem)throw new Error("startGameElem is null, check to make sure it's been properly selected");a.default.addClass(this.startGameElem,"hidden"),this.asteroids=[]},e.prototype.loop=function(e){if(void 0===e&&(e=this.lastRender),this.isActive){window.requestAnimationFrame(this.loop.bind(this)),this.updateScore();var i=this.settings,t=i.tickLength,s=i.numTicksBeforePausing,r=this.lastRender+t,a=e-this.lastRender,n=Math.floor(a/t);if(e<r)return!1;n<s&&this.createFrame(n),this.lastRender=e}},e.prototype.createFrame=function(e){var i=this;if(this.asteroids.length+this.pendingAsteroids.size<this.settings.maxAsteroids){var t=this.makeAsteroid({},2e3);this._registerPromisedAsteroid(t)}!this.spaceship&&this.initialized&&(this.spaceship=this.makeSpaceship(200),this.spaceship.then(function(e){i.spaceship=e})),this.fireBullet(),this.calcAllPoints(e),this.processCollisions(),this.drawAllPoints()},e.prototype.calcAllPoints=function(e){this.spaceship instanceof s.Spaceship&&this.spaceship.calcPoints(e),this.asteroids=this.asteroids.filter(function(i){return i instanceof t.Asteroid&&i.isActive?(i.calcPoints(e),!0):!(i instanceof t.Asteroid)}),this.bullets=this.bullets.filter(function(i){return i.isActive&&i.calcPoints(e),i.isActive})},e.prototype.processCollisions=function(){var e=this;this.asteroids.forEach(function(i){i instanceof t.Asteroid&&(e.bullets.forEach(function(t){i.containsPoint(t.currPoints[0])&&e.emitEvent("asteroid-hit",{asteroid:i,bullet:t})}),e.spaceship instanceof s.Spaceship&&e.spaceship.isActive&&e.spaceship.currPoints.forEach(function(t){i.containsPoint(t)&&(i.isActive=!1,e.spaceship.isActive=!1,e.emitEvent("spaceship-hit"))}))})},e.prototype.drawAllPoints=function(){this.ctx.clearRect(0,0,this.canvasElem.width,this.canvasElem.height),this.spaceship instanceof s.Spaceship&&this.spaceship.isActive&&this.spaceship.drawPoints(),this.asteroids=this.asteroids.filter(function(e){return e instanceof t.Asteroid&&e.isActive?(e.drawPoints(),!0):!(e instanceof t.Asteroid)}),this.bullets=this.bullets.filter(function(e){return e.isActive&&e.drawPoints(),e.isActive})},e.prototype._registerPromisedAsteroid=function(e){for(var i=this,t=Math.floor(1e4*Math.random());this.pendingAsteroids.get(t);)t=Math.floor(1e4*Math.random());this.pendingAsteroids.set(t,e),e.then(function(e){i.asteroids.push(e),i.pendingAsteroids.delete(t)})},e.prototype.fireBullet=function(){var e=this;this.spaceship instanceof s.Spaceship&&this.spaceship.isActive&&this.spaceship.currPoints.length&&this.isFiring&&this.canFire&&(this.canFire=!1,this.bullets.push(new r.Bullet({origin:i.deepClone(this.spaceship.currPoints[0]),velocity:i.deepClone(this.spaceship.velocity),offSet:i.deepClone(this.spaceship.offSet)})),setTimeout(function(){e.canFire=!0},this.settings.firingDelay))},e.prototype.updateScore=function(e){void 0===e&&(e={});var i=!1;if(0===Object.keys(e).length&&(i=!0),i||e.lives){if(null===this.livesElem)throw new Error("Dom element for this.livesElem is null");this.lives<0?this.livesElem.innerHTML="--":this.livesElem.innerHTML=""+(e.lives||this.lives)}if(i||e.score){if(null===this.scoreElem)throw new Error("Dom element for this.scoreElem is null");this.scoreElem.innerHTML=""+(e.score||this.score)}},e.prototype.emitEvent=function(e,i){var r=this;switch(e){case"debug:next-frame":void 0;break;case"right-on":this.spaceship instanceof s.Spaceship&&(this.spaceship.turningRight=!0);break;case"right-off":this.spaceship instanceof s.Spaceship&&(this.spaceship.turningRight=!1);break;case"left-on":this.spaceship instanceof s.Spaceship&&(this.spaceship.turningLeft=!0);break;case"left-off":this.spaceship instanceof s.Spaceship&&(this.spaceship.turningLeft=!1);break;case"fire-on":this.isFiring=!0;break;case"fire-off":this.isFiring=!1;break;case"throttle-on":this.spaceship instanceof s.Spaceship&&this.spaceship.throttleOn();break;case"throttle-off":this.spaceship instanceof s.Spaceship&&this.spaceship.throttleOff();break;case"asteroid-hit":var n=i.asteroid,o=i.bullet;n.isActive=!1,o.isActive=!1,this.score+=n.scoreValue,this.updateScore({score:this.score});var h=t.Asteroid.makeChild(n,this.settings.maxChildAsteroids);h.length&&(this.asteroids=this.asteroids.concat(h));break;case"spaceship-hit":this.lives=this.lives-=1,this.updateScore({lives:this.lives}),this.lives>=0?(this.spaceship=this.makeSpaceship(200),this.spaceship.then(function(e){r.spaceship=e})):this.emitEvent("game-over");break;case"toggle-pause":if(!this.pauseGameElem)throw new Error("No pauseGameElem");this.isActive?a.default.removeClass(this.pauseGameElem,"hidden"):a.default.addClass(this.pauseGameElem,"hidden"),this.isActive=!this.isActive,this.isActive&&this.loop();break;case"game-over":if(this.gameOver=!0,null===this.gameOverElem)throw new Error("No gameOverElem");a.default.removeClass(this.gameOverElem,"hidden");break;default:throw new Error("Cannot emit event: "+e)}},e}();exports.default=o;
},{"../utils":"saf0","./Asteroid":"QI0o","./Spaceship":"p6cr","./Bullet":"3YFJ","../utils/fakeJquery":"VWjm"}],"4Fr+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=[{event:"keydown",cb:function(e){78===e.keyCode&&window.Game.emitEvent("debug:next-frame"),38===e.keyCode?window.Game.emitEvent("throttle-on"):39===e.keyCode?window.Game.emitEvent("right-on"):37===e.keyCode?window.Game.emitEvent("left-on"):32===e.keyCode?window.Game.initialized?window.Game.emitEvent("fire-on"):window.Game.init():80===e.keyCode&&window.Game.emitEvent("toggle-pause")}},{event:"keyup",cb:function(e){38===e.keyCode?window.Game.emitEvent("throttle-off"):39===e.keyCode?window.Game.emitEvent("right-off"):37===e.keyCode?window.Game.emitEvent("left-off"):32===e.keyCode&&window.Game.emitEvent("fire-off")}}];exports.default=e;
},{}],"3eGw":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../utils"),n=e(require("./documentEventListeners"));function o(e){"function"==typeof e&&e(),n.default.forEach(function(e){e.selector?document.querySelectorAll(e.selector).forEach(function(t){t.addEventListener(e.event,e.cb)}):document.addEventListener(e.event,e.cb)})}function r(e){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?o(e):document.addEventListener("DOMContentLoaded",function(){o(e)})}function i(){window.addEventListener("resize",t.initDebouncer(function(){console.log("window resize fired!!!");var e=.01*window.innerHeight;document.documentElement&&document.documentElement.style.setProperty("--vh",e+"px")},100))}exports.registerDocumentEventListeners=r,exports.registerWindowEventListeners=i;
},{"../utils":"saf0","./documentEventListeners":"4Fr+"}],"KqmS":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),console.log("debugger is off");var t=e(require("./game/Game")),r=require("./events");r.registerWindowEventListeners(),r.registerDocumentEventListeners(function(){new t.default});
},{"./game/Game":"19px","./events":"3eGw"}]},{},["KqmS"], null)
//# sourceMappingURL=/scripts.a3205626.map